<form method="POST" action="/configure">
  <div class="form-group">
    <label for="targetType"
      ><strong>Für wen ist die Installation?</strong></label
    >
    <select
      id="targetType"
      name="targetType"
      class="form-control"
      onchange="toggleTextarea()"
    >
      <option value="school" selected>Schule</option>
      <option value="generic">Unternehmen</option>
    </select>
  </div>

  <br />

  <div class="form-group" id="tokenContainer">
    <p>Füge hier deinen "Edulution-Setup-Token" ein:</p>
    <textarea
      class="form-control"
      rows="5"
      name="edulutionsetuptoken"
      id="edulutionsetuptoken"
      oninput="checkToken()"
      onfocus="checkToken()"
    ></textarea>
  </div>

  <br />

  <button type="submit" class="login-submit-btn" id="btn_install" disabled>
    Überprüfen
  </button>

  <br />
  <hr />
  <br />

  <label for="manualBtn"
    ><strong>Hier gehts zur manuellen Eingabe:</strong></label
  >
  <button type="submit" class="login-submit-btn">Manuell eingeben</button>
</form>

<script>
  function toggleTextarea() {
    const target = document.getElementById("targetType").value;
    const container = document.getElementById("tokenContainer");
    const textarea = document.getElementById("edulutionsetuptoken");
    const btn = document.getElementById("btn_install");

    if (target === "generic") {
      container.style.display = "none";
      textarea.disabled = true;

      btn.style.display = "none";
    } else {
      container.style.display = "block";
      textarea.disabled = false;

      btn.style.display = "flex";
      btn.disabled = true;
    }
  }

  toggleTextarea();
</script>
